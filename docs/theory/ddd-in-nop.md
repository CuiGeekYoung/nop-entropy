# Nop平台中的DDD

# 领域语言

* 一种语言可以看作是一种描述坐标系
* 通过坐标系定义一个领域语义空间
* 多个领域空间对应不同的坐标系，语义等价的部分需要粘合
* 业务表达独立于技术实现
* 价值链：有人提出以财务为引导
* 领域建模的价值是将领域名词转为领域模型，需要抽象和提炼，比如把柜员，大堂经理抽象成岗位，更加深入业务本质，而不仅仅停留在表面，是DDD最重要的成果沉淀。

# 聚合根

* 主分解维度，门面模式
面向对象而不是面向DTO，不是面向ID
* 全局关系 + 内部的局部关系。不同比例尺的地图
* 信息尽在指尖
* 实体 + 延迟加载 + session缓存：结构聚合
* BizObject: 行为聚合
* GraphQL: 结构的选择和组合 

## 贫血还是充血

* 均衡分工
* 不同的稳定性和信息范围

# 差量更新

* 领域事件作为Delta
* 可逆变换所要求的完备性
* 固定的通知与可变的命令
已发生的事实（确定）与引发事件的操作（不确定）
* 多重宇宙：读写分离

